<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>ObjectFactory.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">factory</span>
<span class="ActionScriptBracket/Brace">{</span>
    
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">IObjectDescriptor</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">IObjectDescriptorReference</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">IObjectFactoryConfig</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">IObjectPlaceHolder</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">dependency</span>.<span class="ActionScriptDefault_Text">IConstructorDependency</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">dependency</span>.<span class="ActionScriptDefault_Text">IDependency</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">IEventHandler</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">error</span>.<span class="ActionScriptDefault_Text">FliccError</span>;
    
<span class="ActionScriptASDoc">/**
 * Basic implementation of &lt;code&gt;IObjectFactory&lt;/code&gt;
 * 
 * &lt;p&gt;
 * Rather than use this class directly in Flicc, you generally use the &lt;code&gt;
 * MxmlObjectFactory&lt;/code&gt; sub-class that allows to you declare your factory
 * instance on an mxml document.
 * &lt;/p&gt;
 * 
 * @see flicc.factory.mxml.MxmlObjectFactory  
 */</span> 
<span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">ObjectFactory</span> <span class="ActionScriptReserved">implements</span> <span class="ActionScriptDefault_Text">IObjectFactory</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_config</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectFactoryConfig</span> ;
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_singletonStore</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">SingletonStore</span>;
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_instantiationStrategy</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IInstantiationStrategy</span>;
    
    <span class="ActionScriptASDoc">/**
     * @param config The factory configuration
     */</span> 
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ObjectFactory</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">config</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectFactoryConfig</span> <span class="ActionScriptBracket/Brace">)</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_singletonStore</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SingletonStore</span><span class="ActionScriptBracket/Brace">()</span>;
        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_instantiationStrategy</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TenArgLimitSwitchStatementInstantiation</span><span class="ActionScriptBracket/Brace">()</span>;
        
        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">config</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">config</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptASDoc">/**
     * @inheritDoc
     */</span> 
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getInstance</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">getDescriptorForId</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptASDoc">/**
     * @inheritDoc
     */</span> 
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">configure</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">object</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span>, <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptDefault_Text">applyDependencies</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">getDescriptorForId</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">object</span> <span class="ActionScriptBracket/Brace">)</span>;
    <span class="ActionScriptBracket/Brace">}</span>
              
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">isSingleton</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_singletonStore</span>.<span class="ActionScriptDefault_Text">hasSingletonFor</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_singletonStore</span>.<span class="ActionScriptDefault_Text">getSingletonFor</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">try</span>
         <span class="ActionScriptBracket/Brace">{</span>
              <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">currentInstance</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_instantiationStrategy</span>.<span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> 
                                              <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">clazz</span>,  
                                              <span class="ActionScriptDefault_Text">createConstructorArguments</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;
                      
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">isSingleton</span> <span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_singletonStore</span>.<span class="ActionScriptDefault_Text">storeSingleton</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span>, <span class="ActionScriptDefault_Text">currentInstance</span> <span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
                
            <span class="ActionScriptDefault_Text">applyDependencies</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span>, <span class="ActionScriptDefault_Text">currentInstance</span> <span class="ActionScriptBracket/Brace">)</span>;
             <span class="ActionScriptDefault_Text">applyEventHandlers</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span>, <span class="ActionScriptDefault_Text">currentInstance</span> <span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">currentInstance</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">IInitialisable</span> <span class="ActionScriptBracket/Brace">)</span>
             <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">IInitialisable</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">currentInstance</span> <span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">initialised</span><span class="ActionScriptBracket/Brace">()</span>; 
             <span class="ActionScriptBracket/Brace">}</span>
        
         <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptReserved">catch</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">e</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Error</span> <span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">throw</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">FliccError</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptString">&quot;Error while trying to instantiate class &quot;</span> 
                                    <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot;:&quot;</span> 
                                    <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">message</span>, <span class="ActionScriptDefault_Text">e</span> <span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
                 
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">currentInstance</span>;
    <span class="ActionScriptBracket/Brace">}</span>
  
      <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">applyDependencies</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span>, 
              <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                    
        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dependency</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IDependency</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">dependencies</span> <span class="ActionScriptBracket/Brace">)</span> 
         <span class="ActionScriptBracket/Brace">{</span>           
               <span class="ActionScriptDefault_Text">dependency</span>.<span class="ActionScriptDefault_Text">apply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">resolveValue</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">dependency</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">instance</span>  <span class="ActionScriptBracket/Brace">)</span>;
         <span class="ActionScriptBracket/Brace">}</span>
    <span class="ActionScriptBracket/Brace">}</span>

      <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">applyEventHandlers</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span>, 
              <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                  
         <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">handler</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IEventHandler</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">eventHandlers</span> <span class="ActionScriptBracket/Brace">)</span>
         <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">handler</span>.<span class="ActionScriptDefault_Text">apply</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">resolveValue</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">handler</span>.<span class="ActionScriptDefault_Text">source</span> <span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptBracket/Brace">)</span>;   
        <span class="ActionScriptBracket/Brace">}</span>
    <span class="ActionScriptBracket/Brace">}</span>
  
      <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createConstructorArguments</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">constructorArgs</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;

        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">constructorDep</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IConstructorDependency</span> <span class="ActionScriptReserved">in</span> 
                <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">constructorArgs</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
        
               <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">resolvedValue</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">resolveValue</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">constructorDep</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptBracket/Brace">)</span>;
       
               <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">constructorDep</span>.<span class="ActionScriptDefault_Text">index</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptOperator">-</span> 1 <span class="ActionScriptBracket/Brace">)</span>
               <span class="ActionScriptBracket/Brace">{</span>
                   <span class="ActionScriptDefault_Text">constructorArgs</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">constructorDep</span>.<span class="ActionScriptDefault_Text">index</span> <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">resolvedValue</span>;        
               <span class="ActionScriptBracket/Brace">}</span>        
               <span class="ActionScriptReserved">else</span>
               <span class="ActionScriptBracket/Brace">{</span>
                 <span class="ActionScriptDefault_Text">constructorArgs</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">resolvedValue</span> <span class="ActionScriptBracket/Brace">)</span>;
               <span class="ActionScriptBracket/Brace">}</span> 
        <span class="ActionScriptBracket/Brace">}</span>
    
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">constructorArgs</span>;
      <span class="ActionScriptBracket/Brace">}</span>
  
      <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resolveValue</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span>
      <span class="ActionScriptBracket/Brace">{</span>
         <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">resolvedValue</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptOperator">*</span>;
     
         <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">IObjectDescriptorReference</span> <span class="ActionScriptBracket/Brace">)</span>
         <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">valueAsReference</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptorReference</span> <span class="ActionScriptOperator">=</span> 
                <span class="ActionScriptDefault_Text">IObjectDescriptorReference</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptBracket/Brace">)</span>;

            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">descriptorToInject</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptOperator">=</span> 
                <span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">getDescriptorForId</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">valueAsReference</span>.<span class="ActionScriptDefault_Text">objectId</span> <span class="ActionScriptBracket/Brace">)</span>;
           
            <span class="ActionScriptDefault_Text">resolvedValue</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptorToInject</span> <span class="ActionScriptBracket/Brace">)</span>;
         <span class="ActionScriptBracket/Brace">}</span>
         <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptBracket/Brace">)</span>
         <span class="ActionScriptBracket/Brace">{</span>                
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">valueAsDescriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptBracket/Brace">)</span>;
           
            <span class="ActionScriptDefault_Text">resolvedValue</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">valueAsDescriptor</span> <span class="ActionScriptBracket/Brace">)</span>;
         <span class="ActionScriptBracket/Brace">}</span>
         <span class="ActionScriptReserved">else</span>
         <span class="ActionScriptBracket/Brace">{</span>        
            <span class="ActionScriptDefault_Text">resolvedValue</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;
        <span class="ActionScriptBracket/Brace">}</span>
     
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">resolvedValue</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">config</span><span class="ActionScriptBracket/Brace">()</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectFactoryConfig</span> 
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_config</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">config</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectFactoryConfig</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span> 
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptDefault_Text">_config</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;
        
        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">getAllDescriptors</span><span class="ActionScriptBracket/Brace">()</span> <span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">IObjectPlaceHolder</span> <span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_singletonStore</span>.<span class="ActionScriptDefault_Text">storeSingleton</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span>, 
                        <span class="ActionScriptDefault_Text">IObjectPlaceHolder</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">object</span> <span class="ActionScriptBracket/Brace">)</span>;
                        
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">preInstantiateSingletons</span> <span class="ActionScriptOperator">&amp;&amp;</span> 
                     <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">isSingleton</span> <span class="ActionScriptOperator">&amp;&amp;</span> 
                     <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">_singletonStore</span>.<span class="ActionScriptDefault_Text">hasSingletonFor</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                        
                <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptBracket/Brace">)</span>;        
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
    <span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">Dictionary</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">IObjectDescriptor</span>;
    
<span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">SingletonStore</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">singletons</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Dictionary</span>;
    
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SingletonStore</span><span class="ActionScriptBracket/Brace">()</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptDefault_Text">singletons</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;    
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">hasSingletonFor</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Boolean</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">singletons</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">objectId</span> <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span>;    
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getSingletonFor</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">descriptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">singletons</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">descriptor</span>.<span class="ActionScriptDefault_Text">objectId</span> <span class="ActionScriptBracket/Brace">]</span>;    
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">storeSingleton</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">desciptor</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">IObjectDescriptor</span>, <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptReserved">void</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptDefault_Text">singletons</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">desciptor</span>.<span class="ActionScriptDefault_Text">objectId</span> <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">instance</span>;
    <span class="ActionScriptBracket/Brace">}</span>
<span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptinterface">interface</span> <span class="ActionScriptDefault_Text">IInstantiationStrategy</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">clazz</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Class</span>, <span class="ActionScriptDefault_Text">args</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span>;
<span class="ActionScriptBracket/Brace">}</span>
    
<span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">TenArgLimitSwitchStatementInstantiation</span> <span class="ActionScriptReserved">implements</span> <span class="ActionScriptDefault_Text">IInstantiationStrategy</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">instantiate</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">clazz</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Class</span>, <span class="ActionScriptDefault_Text">args</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Object</span>;
          
          <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">args</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptBracket/Brace">)</span>
          <span class="ActionScriptBracket/Brace">{</span>
              <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">()</span>;    
          <span class="ActionScriptBracket/Brace">}</span>
          
          <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptBracket/Brace">)</span>
          <span class="ActionScriptBracket/Brace">{</span>
              <span class="ActionScriptReserved">case</span> 1<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 2<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 3<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 4<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 5<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 4 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 6<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 4 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 5 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 7<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 4 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 5 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 6 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 8<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 4 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 5 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 6 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 7 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 9<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 4 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 5 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 6 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 7 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 8 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
              
              <span class="ActionScriptReserved">case</span> 10<span class="ActionScriptOperator">:</span>
                  <span class="ActionScriptDefault_Text">instance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">clazz</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 0 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 1 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 2 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 3 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 4 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 5 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 6 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 7 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 8 <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">args</span><span class="ActionScriptBracket/Brace">[</span> 9 <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span>;    
              <span class="ActionScriptReserved">break</span>;
          <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">instance</span>;    
    <span class="ActionScriptBracket/Brace">}</span>
    
<span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
