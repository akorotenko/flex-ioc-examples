<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>ListDescriptor.as</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">mxml</span>
<span class="ActionScriptBracket/Brace">{</span>
    
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">dependency</span>.<span class="ActionScriptDefault_Text">IDependency</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flicc</span>.<span class="ActionScriptDefault_Text">config</span>.<span class="ActionScriptDefault_Text">dependency</span>.<span class="ActionScriptDefault_Text">ListDependency</span>;

<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">collections</span>.<span class="ActionScriptDefault_Text">ArrayCollection</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">collections</span>.<span class="ActionScriptDefault_Text">ICollectionView</span>;
    
<span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">DefaultProperty</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;listDependencies&quot;</span><span class="ActionScriptBracket/Brace">)]</span>

<span class="ActionScriptASDoc">/**
 * An &lt;code&gt;IObjectDescriptor&lt;/code&gt; used to describe an &lt;code&gt;Array&lt;/code&gt; or 
 * &lt;code&gt;IList&lt;/code&gt; implementation.
 * 
 * &lt;p&gt;
 * The ListDescriptor will take its child elements and create &lt;code&gt;IDependency
 * &lt;/code&gt;s that will apply values on to a IList or an Array in the order they 
 * are declared. By default, the &lt;code&gt;ListDescriptor&lt;/code&gt; will set the 
 * &lt;code&gt;clazz&lt;/code&gt; property to &lt;code&gt;ArrayCollection&lt;/code&gt;.
 * &lt;/p&gt;
 * 
 * @mxml
 * &lt;p&gt;
 * The below example describes an &lt;code&gt;Array&lt;/code&gt; with 2 elements, the first 
 * an instance of the object identified in the factory by the objectId 
 * &quot;Class1Id&quot; and the second an instance of the object identified by the 
 * objectId &quot;Class2Id&quot;:
 * &lt;/p&gt;
 *    
 * &lt;pre&gt;
 *     &amp;lt;ListDescriptor objectId=&quot;ArrayObjectDescriptorId&quot; clazz=&quot;{ Array }&quot;&amp;gt;
 *         &amp;lt;Ref objectId=&quot;Class1Id&quot; /&amp;gt;
 *      &amp;lt;Ref objectId=&quot;Class2Id&quot; /&amp;gt;
 *     &amp;lt;/ListDescriptor&amp;gt;
 * &lt;/pre&gt;
 */</span>  
<span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">ListDescriptor</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">BaseMxmlObjectDescriptor</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptASDoc">/**
     * An &lt;code&gt;Array&lt;/code&gt; of values to be set on the created list.
     * 
     * &lt;p&gt;
     * The &lt;code&gt;dependencies&lt;/code&gt; implementation will take these values and
     * create &lt;code&gt;IDependency&lt;/code&gt;s that that apply the values to &lt;code&gt;
     * clazz&lt;/code&gt; in the order they are defined in this array. This property
     * is defined as the mxml &lt;code&gt;DefaultProperty&lt;/code&gt; so you do not need
     * to explicitly set it. 
     * &lt;/p&gt;
     *
     * @see #clazz 
     * @see #dependencies
     */</span> 
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">listDependencies</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;
    
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ListDescriptor</span><span class="ActionScriptBracket/Brace">()</span> 
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptDefault_Text">clazz</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ArrayCollection</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptASDoc">/**
     * @inheritDoc
     */</span> 
    <span class="ActionScriptReserved">override</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">dependencies</span><span class="ActionScriptBracket/Brace">()</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">ICollectionView</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">deps</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">ArrayCollection</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayCollection</span><span class="ActionScriptBracket/Brace">()</span>;
        
        <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">!=</span><span class="ActionScriptDefault_Text">listDependencies</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">deps</span>.<span class="ActionScriptDefault_Text">addItem</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ListDependency</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span>, <span class="ActionScriptDefault_Text">listDependencies</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">deps</span>;
    <span class="ActionScriptBracket/Brace">}</span>
<span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
